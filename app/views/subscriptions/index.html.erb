<%= content_for :page_title, t('.page_title') %>

<%= link_to t('.add_new'), new_subscription_path %>

<table class="table">
  <thead class="table__head">
    <tr class="table__row table__row--head">
      <%= content_tag :td, t('.status'), class: 'table__cell' %>
      <%= content_tag :td, Subscription.human_attribute_name(:name), class: 'table__cell' %>
      <%= content_tag :td, Subscription.human_attribute_name(:entries), class: 'table__cell' %>
      <%= content_tag :td, Subscription.human_attribute_name(:last_fetched_at), class: 'table__cell' %>
      <%= content_tag :td, t('.actions'), class: 'table__cell' %>
    </tr>
  </thead>
  <tbody class="table__body">
    <%- @subscriptions.each do |subscription| %>
      <tr class="table__row">
        <%= content_tag :td, class: 'table__cell' do %>
          <%= render SubscriptionStatusComponent.new(subscription:) %>
        <% end %>
        <%= content_tag :td, subscription.name, class: 'table__cell' %>
        <%= content_tag :td, subscription.entries_count, class: 'table__cell' %>
        <%= content_tag :td, subscription.last_fetched_info, class: 'table__cell' %>
        <%= content_tag :td, class: 'table__cell' do %>
          <%= link_to t('.show'), subscription, class: 'table__link' %>
          <%= link_to t('.edit'), [:edit, subscription], class: 'table__link' %>
        <% end %>
      </tr>
    <%- end %>
  </tbody>
</table>
